(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{42:function(t,e,n){},43:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(17),i=n.n(r),s=(n(42),n(6)),o=(n(43),n(11)),l=n.n(o),u=n(12),j=n(20),b=Object(j.b)({name:"user",initialState:{user:null},reducers:{login:function(t,e){t.user=e.payload},logout:function(t){t.user=null}}}),d=b.actions,h=d.login,p=(d.logout,function(t){return t.user.user}),O=b,f=n(3),x=n(24),m=n.n(x),g=n(1);var v=Object(u.b)()((function(){var t=Object(c.useState)(null),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(null),i=Object(s.a)(r,2),o=i[0],j=i[1],b=Object(c.useState)(""),d=Object(s.a)(b,2),O=d[0],x=d[1],v=Object(c.useState)(!1),w=Object(s.a)(v,2),y=w[0],C=w[1],S=Object(u.c)(),F=(Object(u.d)(p),Object(f.f)()),N=function(){if(!n||!o)return x("Fill in the fields");C(!0),l()({url:"http://localhost:3001/api/user/login",method:"POST",data:{email:n,password:o}}).then((function(t){var e=t.data.user;e?(S(h({email:e.email,role:e.role,isLogged:!0})),F.push("/home")):t.data.exists?x("Wrong password"):x("User does not exist"),C(!1)}))};return Object(c.useEffect)((function(){return m()("#form").on("submit",(function(t){t.preventDefault()})),function(){m()("#form").on("submit",(function(t){t.preventDefault()}))}})),Object(g.jsxs)("div",{style:{border:"1px solid #ccc",width:"33%",minWidth:"300px",position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"50px",fontSize:"20px"},className:"h-auto grid-rows-1 shadow-xl",children:[Object(g.jsx)("h2",{style:{textAlign:"center",marginBottom:"30px"},className:"text-4xl ",children:"Login"}),Object(g.jsxs)("form",{id:"form",onSubmit:N,children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{className:"input",type:"text",name:"email",onChange:function(t){return a(t.target.value)}}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{className:"input",type:"password",name:"password",onChange:function(t){return j(t.target.value)}}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{className:"submit",type:"submit",disabled:y,onClick:N,children:"Login"})]}),Object(g.jsx)("p",{style:{color:"red",textAlign:"center"},children:O})]})})),w=n(37),y=n(13);function C(){var t=Object(u.d)(p),e=Object(c.useState)([]),n=Object(s.a)(e,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){l.a.get("http://localhost:3001/api/file").then((function(t){r(t.data),console.log(t.data)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:"company"===t.role?Object(g.jsx)("h1",{children:"Company"}):Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(y.b,{to:"/companies/add",children:"Create Account"})}),Object(g.jsx)("li",{children:Object(g.jsx)("input",{type:"file",onChange:function(t){return function(t){var e=new FormData;e.append("file",t[0]),l.a.post("http://localhost:3001/api/file/new",e).then((function(t){r((function(e){return[].concat(Object(w.a)(e),[t.data])}))}))}(t.target.files)}})})]})})}),Object(g.jsx)("div",{className:"grid grid-cols-6 gap-4",children:function(){if(a.length)return a.map((function(t,e){return Object(g.jsx)("iframe",{src:"http://localhost:3001/"+t.path,width:"300px",height:"450px"},e)}))}()})]})}var S=Object(j.a)({reducer:{user:O.reducer}});var F=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"email",name:"email",onChange:function(t){return a(t.target.value)}}),Object(g.jsx)("button",{type:"submit",onClick:function(){l.a.post("http://localhost:3001/api/user/new",{email:n}).then((function(t){console.log(t)}))},children:"Create"})]})};var N=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(f.g)().user_id,i=Object(f.f)();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Register"}),Object(g.jsx)("input",{type:"password",placeholder:"Your Password",onChange:function(t){return a(t.target.value)}}),Object(g.jsx)("button",{onClick:function(){l.a.put("http://localhost:3001/api/user/register/"+r,{password:n}).then((function(t){t.data.saved&&i.replace("/")}))},children:"Register"})]})};var k=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2);return e[0],e[1],Object(g.jsx)(y.a,{children:Object(g.jsx)(u.a,{store:S,children:Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(f.c,{children:[Object(g.jsx)(f.a,{path:"/",exact:!0,component:v}),Object(g.jsx)(f.a,{path:"/home",component:C}),Object(g.jsx)(f.a,{path:"/companies/add",component:F}),Object(g.jsx)(f.a,{path:"/register/:user_id",component:N})]})})})})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root")),E()}},[[68,1,2]]]);
//# sourceMappingURL=main.95bcf62f.chunk.js.map